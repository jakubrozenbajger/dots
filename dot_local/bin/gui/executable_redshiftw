#!/bin/sh
REDSHIFTWD_PIPE=${REDSHIFTWD_PIPE:-/tmp/redshiftd.pipe}

_cmd() {
  _pipe="$REDSHIFTWD_PIPE"
  if [ -p "$_pipe" ]; then
    echo "$1" >> "$_pipe";
  else
    echo "Bad pipe $_pipe! Is deamon running?"
  fi
}

case "$1" in
  on)     _cmd "on"     ;;
  off)    _cmd "off"    ;;
  toggle) _cmd "toggle" ;;
  exit)   _cmd "exit"   ;;
  *)
    echo "No such command $1"
    exit 1            ;;
esac
